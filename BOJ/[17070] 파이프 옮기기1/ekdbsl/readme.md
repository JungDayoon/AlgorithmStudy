# [BOJ 17070] 파이프 옮기기 1 - Python

### :computer: Algorithm

> Dynamic Programming, DFS, BFS



### :computer: Logic

`pipeCnt`: NxN 크기의 Map. 원소는 [위에서 오는 경우의 개수, 옆에서 오는 경우의 개수, 대각선 방향으로 오는 경우의 개수]를 담는다.

:bulb:**핵심코드**

```python
# 파이프의 초기위치. 
# 가로방향으로 놓여져있으므로 1번째 원소를 1로 둔다. (파이프의 길이가 2지만, 파이프가 걸치고 있는 마지막 좌표만 변경한다. 어차피 첫자리는 필요없음)
pipeCnt[0][1][1] = 1 
for j in range(2, N): # Map의 열이 0~1인 부분은 어차피 파이프를 아예 놓을 수 없으므로 순회할 필요 없다
    for i in range(N):
        if Map[i][j] == 1: # 파이프를 놓을 자리가 벽이라면, 수행 x
            continue
        # 현재 좌표에서 위에서 오는 경우, 옆에서 오는 경우, 아래에서 오는 경우를 확인해준다.
        if isIn(i-1, j) and Map[i-1][j] == 0:	# 위에서 오는 경우, 위의 좌표가 벽인지 확인
            # 세로로 파이프를 놓으려면, 그 전 파이프가 세로로 놓여지거나 / 대각선으로 놓여야 하므로 0번째, 2번째 개수만 더해준다.
            pipeCnt[i][j][0] += pipeCnt[i-1][j][0] + pipeCnt[i-1][j][2]
        if isIn(i, j-1) and Map[i][j-1] == 0:	# 옆에서 오는 경우, 옆의 좌표가 벽인지 확인
            # 가로로 파이프를 놓으려면, 그 전 파이프가 가로로 놓여지거나 / 대각선으로 놓여야 하므로 1번째, 2번째 개수만 더해준다.
            pipeCnt[i][j][1] += pipeCnt[i][j-1][1] + pipeCnt[i][j-1][2]
        if isIn(i-1, j-1) and Map[i-1][j-1] == 0 and Map[i-1][j] == 0 and Map[i][j-1] == 0:	# 대각선에서 오는 경우, 위, 옆, 대각선의 좌표가 벽인지 확인
            # 대각선으로 파이프를 놓을 때는, 그 전 파이프가 어느 방향이든 상관없으므로 0, 1, 2번째 개수를 모두 더한다.
            pipeCnt[i][j][2] += pipeCnt[i-1][j-1][0] + pipeCnt[i-1][j-1][1] + pipeCnt[i-1][j-1][2]
```



### :computer: Review

> DFS/BFS: 40분, DP: 40분

파이썬은 느린 언어기 때문에.. DFS, BFS 방법으로 풀면 매우 느리다 !

최대값인 16을 넣으면 답이 나오는데 한참 걸린다 ,,

역시나 시간 초과.. 그래서 은주 코드봤더니 DFS로 풀어놨길래 파이썬 살짝 원망하면서 DP로 다시 풀었다

DP 공부도 하고 좋은 경험 치자 .. 한 문제를 세 방법으로 풀기 ^^,,

파이썬 쓰는 사람들은 고생하지말구 처음부터 DP로 푸세요 !
