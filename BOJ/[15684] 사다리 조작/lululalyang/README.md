# [BOJ]/[15684] 사다리 조작

## - Backtraking -

* `int[][] ladder = new int[H+2][N+1]`

  : 사다리 정보를 담는다. index `0`은 사용하지 않기위해 행열 크기를 `+1`해줌.

  * 마지막 행을 도착지점으로 취급하기 위해 `+1`해줌.

    (마지막행은 열의 index값으로 채워 줌)

  * 사다리 정보는 아래와 같이 저장한다.

    ![image](https://user-images.githubusercontent.com/33208360/97013613-2ffe6680-1584-11eb-8f7d-041283ea5075.png)

    사다리가 없으면 `0`

    세로줄을 연결하는 사다리가 있다면 서로 연결되어있는 열 index값을 넣어준다.

* ***in `Main`***

  아무 처리하지 않았을 때 각 출발지점과 도착지점이 같으면(`checkDone()==true`) `0`을 출력해주고 종료.

  사다리 개수(`ladderN`)를 `1`에서 `3`까지 늘려주면서 사다리를 놓고(`Buildladder()`), 결과조건에 만족하는지 확인한다.

  * 만족한다면, 그때의 사다리개수 `ladderN`을 출력해주고 종료.
  * `ladderN = 3`일 때까지 결과조건을 만족하지 못한다면 `-1`을 출력.

  </br>

* **`boolean checkDone(int[][] ladder)`** 

  : 결과조건을 만족하는지 확인 후 만족하면 `true`를, 만족하지못하면 `false`를 `return`

  사다리가 없으면(`ladder[i][j]==0`) 아래칸으로 내려가고

  사다리가 있으면(`ladder[i][j]!=0`) 그 값에 맞춰 `i`를 바꿔주고 아래칸으로 내려간다.
  
  모든 열(`1`~`N`)이 결과조건을 만족해야 `true`를 `return`한다.

  </br>

* **`void Buildladder(int ladderN, int[][] ladder, int done, int x, int y)`** 

  : 백트래킹 함수.

  * `int ladderN`: 놓아야하는 사다리 수
  * `int done`: 이때까지 놓은 사다리 수
  * `int x, y`: 현재 위치 좌표 (`x`는 행 index, `y`는 열 index)

  1. 놓아야하는 사다리 수만큼 사다리를 놓았다면 결과조건을 만족하는지 확인한다(`checkDone(ladder)`) => 만족하면 `flag=1`후 `return`.

  2. 그렇지 않다면, 

     * 우선 `y == N`이라면 `return`.

       (마지막 열은 다음열과 사다리를 연결할 수 없으므로 처리를 끝낸다)

     * `ladder[x][y] == 0`이라면(사다리가 없다면), 

       `ladder[x][y+1]`도 `0`인지 확인한 후 새로운 사다리를 놓고, 다음 좌표로 옮겨준 후 `Buildladder()`호출한다.

       그 후, `flag == 1`이라면 `return`.

       그렇지 않다면, 백트래킹위해 놓았던 사다리를 없애고 `Buildladder()`를 호출한다.

     * 사다리가 있다면, (= 사다리 놓을 수 없음)

       다음 좌표로 옮겨준 후 `Buildladder()`를 호출한다.

       ```java
       int rx, ry; //다음으로 이동할 x,y좌표
       if((x+1) == (H+1)) { //마지막 행이라면 (결과행은 제외)
       	rx = 1; //첫 행으로
       	ry = y + 1; //다음 열로 이동
       }else { 
       	rx = x+1; //다음 행으로 이동
       	ry = y; //원래 열 그대로 
       }
       ```

       </br>

## :speaking_head:

아 .. 처음에 조합으로 풀어야되는 줄 알고 조합까지 딱! 만들었는데 어떻게 할 지 한~~참 생각하다가 같은 세로줄에 여러 개의 사다리도 놓을 수 있는거 뒤늦게 깨달았다 ..

무작정 시작하지 말고 대충 방향 잡아놓고 손대기!!!!!



