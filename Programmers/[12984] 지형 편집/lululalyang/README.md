# [Programmers]/[12984] 지형 편집

## *- Parametric Search -*

1. `land`배열을 스캔하면서 가장 높은 높이, 가장 낮은 높이를 구한다.

   => `int min, max`

2. parametric search를 이용해 필요한 비용의 최솟값을 구한다.

   > **:star: Parametric Search?**
   >
   > * 이분탐색과 매우 유사.
   >
   > * '최적화 문제를 결정 문제로 바꾸어 푸는 것'
   >
   >   : L, R을 두고 Mid에 대한 판별을 이용한다.
   >
   > * 시간 복잡도 `O(log_2 N)`

   1. `l`과 `r`의 중앙값을 구한다.

      `int m = (l+r)/2`

      * 만약, `l`과 `r`이 같다면 종료한다.

   2. `m`과 `m+1`을 높이로 할 때 각각의 필요 비용을 구한다.

      ```java
      long ComputeCost(int N, long m, int P, int Q, int[][] land)
      ```

      `land`배열을 스캔하면서, 

      * 높이가 `m`보다 크면,  제거 => `비용 = 높이 차이 * Q`
      * `m`보다 작으면, 추가해준다. => `비용 = 높이 차이 * P`

   3. `l` 또는 `r` 값 갱신

      * `m`으로 했을때의 비용이 작다면, `m+1`으로 옮기는 비용보다 `m`으로 옮기는 비용이 적은것

        => 최소 비용을 구하는 것이기 때문에 `m+1`보다 큰 높이로는 확인할 필요 없다. (`m+1`이 `m`일 때보다 크기 때문에, 비용이 더 증가할 것)

        => 더 적은 범위를 확인해주기 위해 `r`을 `m`으로 갱신한다.

      * `m+1`으로 했을때의 비용이 작다면, 

        => 위와 같은 의미로 `l`을 `m+1`으로 갱신한다.

   4. 만약, 두 비용이 같으면 반복을 종료한다.

   5. 반복을 중단했을 때의 `m`값으로 최소 필요 비용을 구해, 그 비용을 리턴한다.

</br>

## :speaking_head:

* 처음에는 `Map`에 높이와 그 높이에 해당하는 개수를 저장해서 최소 높이부터 최대 높이까지 모두 계산하는 방식으로 접근했는데 예상대로 ***시간초과*** 였다.
* 높이의 범위가 큰 것을 보고 이분탐색으로 접근했는데, `l`과 `r`값을 어떻게 처리해야할 지 모르겠어서 이동되는 블럭의 개수가 적은쪽으로? 처리했는데 틀렸다ㅜ
* 그래서 참고했다 ! parametric search는 처음 보는데, 이 문제를 통해서 알게 되었다. 잘 익혀두자