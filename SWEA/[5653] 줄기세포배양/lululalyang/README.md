# [SWEA]/[5653] 줄기세포배양

## - Simulation -

* `int[][] map = new int[351][351]`

  : 배양용기의 최대크기는 `150 + 50 + 150 = 350`이고 `map`의 대칭을 맞추기 위해 `+1` 해줬다.

    (`N`과 `M`이 최대값인 `50`이고 가장자리 세포의 생명력이 `1`이라고 한다면 2시간에 크기가 `1`씩 커지므로 배양시간 `K`가 최대값인 `300`이라고 하면 상/하/좌/우로 `150`씩 커지게 된다. )

* 처음에 배양용기(`map`)의 정 가운데에 입력받은 줄기 세포를 놔두기 위해 `(175-(N/2), 175-(M/2))`좌표에서 부터 입력받은 정보를 저장했다.

  ```java
  for(int i=175-(N/2); i<175-(N/2)+N; i++) { 
  	String[] d = br.readLine().split(" "); // 세포정보 입력받음
  	int k=0;
  	for(int j=175-(M/2); j<175-(M/2)+M; j++) {
  		map[i][j] = Integer.parseInt(d[k++]); 
  		state[i][j] = map[i][j];
  		if(map[i][j] != 0) {
  			exist[i][j] = 1; //0없음 1존재 2죽음
  			alive++;
  		}
  	}
  }
  ```

  * `int[][] map`: 세포의 생명력 수치 정보
  * `int[][] exsit`: 세포의 존재유무 (`0`: 없음/ `1`:존재/ `2`:죽음(-> 세포는 죽어도 공간 차지하기 때문에 이처럼 처리해주었다.))
  * `int[][] state`: 세포의 현재 상태 정보
  * `int alive`: 현재 살아있는 줄기세포의 개수

* in `Main`, 

  배양시간 `K`번 만큼 `Breeding()`을 호출한다.

  </br>

* `void Breeding()`

  * `ArrayList<int[]> zero`: 상태가 `0`인 위치 좌표를 저장. (매 시간마다 초기화해준다)

  1. 우선, `map`을 돌면서 존재하는 세포를 찾는다

     존재하면 상태를 `-1`해준다(`state[i][j]--`). 단, 값을 바꿔주기 전에 값이 `0`이라면 이번 시간에 번식해야하므로 `zero`에 `add`해준다. 

     또, `-1`해준 상태값이 세포의 생명력 수치인 `map[i][j]`값과 같다면 그 세포는 죽은 세포로 취급 => `alive`를 `1` 줄여주고, 죽은 세포로 설정한다.(`exist[i][j] = 2`)

  2. 위 과정이 끝나면 번식시켜야 할 세포의 좌표가 담긴 `zero`를 돌면서 처리해준다.

     * 해당 좌표의 상/하/좌/우 좌표를 확인한다

       * 그 좌표에 세포가 없다면, 번식시킨다.

         ```java
         exist[rx][ry] = 1; //존재하는 세포로 설정
         map[rx][ry] = map[x][y]; //생명력 수치를 번식세포의 수치로 설정
         state[rx][ry] = map[x][y]; //상태도 동일 값으로 설정
         					
         alive++; //존재하는 세포 수 +1
         ```

       * 그 좌표에 세포가 있다면, (살아있든, 죽어있든)

         그 좌표의 세포의 생명력수치와 상태가 같은 값이라면 => 이번 시간에 번식된 것!

         => 좌표에 있던 세포와 현재 번식하려는 세포의 생명력 수치를 비교해 번식하려는 세포의 생명력 수치가 더 크다면 `map`값과 `state`값을 현재 세포로 바꿔준다.

         (원래 있던 세포가 번식될 때 `alive`를 늘려줬으므로 처리할 필요 X.)

         * 그 외, 현재 번식 세포의 생명력이 더 작거나 같은 경우, 또는 이번 시간에 생긴 세포가 아니라 원래 있던 세포라면 번식 못하므로 아무 처리하지 않는다.

	## :speaking_head:

그림때문에 복잡한 문젠줄 알았는데 시간흐름에 따라 그려보면서 규칙찾으니까 구현하기 훨 쉬웠당

처음에 세포가 번식될 때 `alive`를 늘려주지 않아서 값이 이상했는데 디버깅하면서 찾았다!

처음부터 빠트리지 않고 생각해주 자 !

